---
import '../styles/components/scrollArrow.css';
---

<div class="scroll-arrow" id="scroll-arrow">
  <div class="nebula-circle">
    <div class="nebula-glow"></div>
    <div class="stars">
      <div class="star" style="--delay: 0s; --top: 20%; --left: 30%"></div>
      <div class="star" style="--delay: 0.3s; --top: 40%; --left: 70%"></div>
      <div class="star" style="--delay: 0.7s; --top: 65%; --left: 40%"></div>
      <div class="star" style="--delay: 1.1s; --top: 30%; --left: 80%"></div>
    </div>
  </div>
  <i class="fas fa-chevron-down"></i>
</div>

<script>
  const scrollArrow = document.getElementById('scroll-arrow');
  
  if (scrollArrow) {
    scrollArrow.addEventListener('click', () => {
      const nextSection = document.querySelector('section');
      if (nextSection) {
        nextSection.scrollIntoView({ behavior: 'smooth' });
      }
    });

    let lastScrollTop = 0;
    window.addEventListener('scroll', () => {
      const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
      
      if (scrollTop > lastScrollTop || scrollTop > window.innerHeight) {
        scrollArrow.classList.add('hidden');
      } else if (scrollTop < 100) {
        scrollArrow.classList.remove('hidden');
      }
      
      lastScrollTop = scrollTop;
    });
  }
</script>
